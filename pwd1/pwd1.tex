\documentclass{article}
\setlength{\headheight}{8pt}

\usepackage[a4paper, margin=0.3in]{geometry}
\usepackage{lmodern}
\usepackage[polish]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{hyperref}
\usepackage[shortlabels]{enumitem}
\usepackage{physics}
\usepackage{multicol}
\usepackage{titlesec}

% Definicje środowisk do twierdzeń, lematów, dowodów itp.
\newtheorem{theorem}{Twierdzenie}[section]
\newtheorem{lemma}[theorem]{Lemat}
\newtheorem{corollary}[theorem]{Wniosek}
\newtheorem{proposition}[theorem]{Stwierdzenie}
\theoremstyle{definition}
\newtheorem{definition}{Definicja}[section]
\theoremstyle{remark}
\newtheorem*{remark}{Uwaga}
\newtheorem*{example}{Przykład}
\newtheorem*{property}{Własność}

\title{Praca domowa 1}
\author{Marcin Szopa}
\date{\today}

% Remove padding at the top of subsections
\titlespacing*{\subsection}{0pt}{*0}{*0}

% Redefine section numbering to use letters
\renewcommand{\thesection}{\Alph{section}}

% Define a command for singleton sets
\newcommand{\singleton}[1]{\left\{ #1 \right\}}

\begin{document}

\maketitle

\begin{remark}
    W całej pracy przyjmujemy, że pracujemy na językach nad skończonym alfabetem \(\Sigma\), tz. w \( \Sigma^* \). \(\mathcal{A}\) to klasa automatów rozpoznających te języki.
\end{remark}

\section{}

\subsection{Automat rozpoznający K \# L}

\begin{definition}

Zdefiniujmy automat rozpoznający \(K \# L\).
Niech \(M_1 = (\Sigma, Q_1, \singleton{q_1} F_1, \delta_1)\), \(M_2 = (\Sigma, Q_2, \singleton{q_2}, F_2, \delta_2)\)
będą DFA rozpoznającymi odpowiednio języki \(K\) i \(L\). Istnieją, bo \(K\) i \(L\) regularne. Zakładamy, że \(Q_1 \cap Q_2 = \emptyset\) (zawsze można przemianować stany). Wtedy automat rozpoznający \(K \# L\) to
\(M = (\Sigma, Q, \singleton{q}, F, \delta)\), gdzie:

\begin{itemize}
    \item \(Q = Q_1 \times Q_2 \times \left\{ 0, 1 \right\}\),
    \item \(q = (q_1, q_2, 0)\),
    \item \(F = F_1 \times F_2 \times \left\{ 0, 1 \right\} \),
    \item \(\delta = \left\{ \left( \left(q_1, q_2, 0 \right), a, s \right): q_1 \in Q_1, q_2 \in Q_2, a \in \Sigma, s \in P(q_1, q_2) \right\}
    \cup \left\{ \left( \left(q_1, q_2, 1 \right), a, s\right): q_1 \in Q_1, q_2 \in Q_2, a \in \Sigma, s \in NP(q_1, q_2) \right\} \), gdzie

    \(P(q_1, q_2) = \left( \mathcal{F}(\delta_1, q_1) \times \singleton{\delta_2(q_2,a)}
    \cup \singleton{\delta_1(q_1,a)} \times \mathcal{F}(\delta_2, q_2) \right) \times \singleton{1}\),

    \(NP(q_1, q_2) =  \left( \delta_1(q_1,a), \delta_2(q_2,a), 0 \right)\),

    \(\mathcal{F}(\delta, q) = \left\{ \delta(q, a): a \in \Sigma \right\}\).
\end{itemize}

Inaczej mówiąc, automat \(M\) symuluje jednocześnie przejścia w \(M_1\) i \(M_2\).
Przechodzimy między stanami na pozycji parzystej / nieparzystej (czyli parzystość litery po której dotarliśmy do danego stanu).
Z pozycji nieparzystej przechodzimy w obu automatach po krawędzi ze wskazaną literą (są deterministyczne, więc jest dokładnie jedna taka krawędź).
Z pozycji parzystej w jednym automacie przechodzimy po krawędzi z literą, a w drugim po dowolnej (co wprowadza niedeterminizm).
\end{definition}

\subsection{Dowód}

Pokażemy, że \(\mathcal{L}(M) = K \# L\).

\begin{proof}
    \(\rightarrow\)

    Niech \(w = a_1 a_2 a_3\ldots a_n \in \mathcal{L}(M)\). To znaczy, że istnieje bieg \( \left(q_{1,1}, q_{2,1}, 0 \right)
     \xrightarrow{a_1} \left(q_{1,2}, q_{2,2}, 1 \right) \xrightarrow{a_2} \ldots \left(q_{1,n}, q_{2,n}, \left[ n \equiv 1 \mod 2  \right] \right) \).
    Zauważmy, że zgodnie z naszą konstrukcją: 
    \begin{itemize}
        \item zaczynamy na pozycji \(\left(q_{1,1}, q_{2,1}, 0 \right)\),
        \item automat symuluje przejścia po \(M_1\) i \(M_2\), co jest równoważne przejściom po słowach \(b \in K\) i \(c \in L\),
        \item gdy przechodzimy ze stanu typu \(0\) do stanu typu \(1\), to w jednym automacie przechodzimy po krawędzi z aktualną literą, a w drugim po dowolnej,
        co jest równoważne \(a_{2i+1} \in \left\{ b_{2i+1}, c_{2i+1} \right\}\),
        \item gdy przechodzimy ze stanu typu \(1\) do stanu typu \(0\), to w obu automatach przechodzimy po krawędzi z aktualną literą,
        co jest równoważne \( a_{2i} = b_{2i} = c_{2i} \),
        \item kończymy na pozycji \(\left(q_{1,n} q_{2,n}, 0/1 \right)\).
    \end{itemize}

    Jako, że tak naprawdę przechodzimy po (dwuwymiarowych) automatach \(M_1\) i \(M_2\), to skoro ostatni stan jest akceptujący, to w obu automatach jesteśmy w stanie akceptującym.
    Dodatkowo, w każdym z automatów zrobiliśmy dokładnie \(\abs{w}\) kroków.
    Co oznacza, że istnieją słowa \(b \in K\) i \(c \in L\), że \(w\) da się podzielić na fragmenty, które tworzą \(w\) zgodnie z definicją \(K \# L\).

    Zatem \(w \in K \# L\).

\end{proof}

\begin{proof}
    \(\leftarrow\)

    Niech \(w = a_1 a_2 a_3\ldots a_n \in K \# L\). Zgodnie z definicją istnieją \(b_1 b_2 \ldots b_n \in K\) i \(c_1 c_2 \ldots c_n \in L\) takie, że \(a_{2i} = b_{2i} = c_{2i}\) i \(a_{2i+1} \in \left\{ b_{2i+1}, c_{2i+1} \right\}\).
    
    
    Udowodnijmy, że automat \(M\) akceptuje \(w\). Startujemy w stanie \(\left(q_{1,1}, q_{2,1}, 0 \right)\).
    \begin{itemize}
        \item Gdy jesteśmy w stanie \(\left(q_{1,2i}, q_{2,2i}, 0 \right)\) i czytamy literę \(a_{2i+1}\)
        to przechodzimy do stanu \(\left(q_{1,2i+1}, q_{2,2i+1}, 1 \right)\),
        gdzie w jednym z automatów przechodzimy po krawędzi z literą \(a_{2i+1}\), a w drugim po dowolnej.
        \item Gdy jesteśmy w stanie \(\left(q_{1,2i+1}, q_{2,2i+1}, 1 \right)\) i czytamy literę \(a_{2i+2}\)
        to przechodzimy do stanu \(\left(q_{1,2i+2}, q_{2,2i+2}, 0 \right)\), gdzie w obu automatach przechodzimy po krawędzi z literą \(a_{2i+2}\).
    \end{itemize}

    Wszystkie przejścia są poprawne, gdyż zgodnie z definicją zmiany stanów na tych samych pozycjach (czyli \(q_1 \rightarrow q_1'\) i \(q_2 \rightarrow q_2'\))
    są zgodne z przejściami w \(M_1\) i \(M_2\).
    Przy parzystych indeksach przechodzimy po krawędziach z literami, które są równe w obu automatach,
    a przy nieparzystych po krawędzi w jednym automacie z liter, a w drugim z dowolną (co wprowadza niedeterminizm).
    Stan końcowy jest akceptujący, gdyż w obu automatach jesteśmy w stanie akceptującym.

    Zatem \(w \in \mathcal{L}(M)\).
\end{proof}

\section{}

Rozważmy \(K = \emptyset, L = \text{dowolny język nieregularny}\). Wtedy
\(K \# L = \emptyset\), który jest językiem regularnym. Jednak \(L\)
jest nieregularny. Zatem jest to kontrprzykład.

\section{}

\subsection{Przykład automatu}

Weźmy \(n = 2i, i \in N_+\).
Rozważmy języki \(K\) i \(L\) nad alfabetem \(\Sigma = \{0, 1\}\):
\begin{itemize}
    \item \(K = \{ w \in \Sigma^* : \# 1 \equiv 0 (\mod n) \}\),
    \item \(L = \{ w \in \Sigma^* : \# 0 \equiv 0 (\mod n) \}\).
\end{itemize}

Umiemy stworzyć DFA dla obu języków, które mają \(n\) stanów,
ponieważ możemy pamietac liczbę \(1/0\) z dokładnością do reszty z dzielenia przez \(n\).
Zatem ich rozmiar jest \(\leq n\).

\subsubsection{Konstrukcja słów rozróżnialnych}
Dla $n = 2i$ rozważmy rodzinę słów:
\[
\mathcal{F} = \left\{ w_S \right\} _{S \subseteq \{1,3,\dots,2i-1\}}
\]
gdzie każde $w_S$ ma:
\begin{itemize}
    \item na pozycjach parzystych: stały symbol $0$
    \item na pozycjach nieparzystych: $1$ w pozycjach z $S$, $0$ w pozostałych
\end{itemize}

\subsubsection{Lemat o rozróżnialności}
Dla dowolnych różnych $S, T \subseteq \{1,3,\dots,2i-1\}$ istnieje \(z \in K \# L\) takie, że:
\[
w_S z \in L \quad \land \quad w_T z \notin L
\]

\textbf{Dowód lematu:}
\begin{enumerate}
    \item Niech $k$ będzie najmniejszą pozycją nieparzystą, gdzie $S$ i $T$ się różnią (bez straty ogólności: $k \in S \setminus T$)
    
    \item Zdefiniujmy sufiks:
    \[
    z = 0^{2i - k} \quad \text{(dopełniający do długości $2i$)}
    \]
    
    \item Dla $w_S z$:
    \begin{itemize}
        \item W $K$: wybór symbolu z $S$ na pozycji $k$ zmienia liczbę jedynek $\mod n$
        \item W $L$: wybór symbolu z $T$ na pozycji $k$ zmienia liczbę zer $\mod n$
    \end{itemize}
    
    \item Konkretnie: jeśli $w_S|_k = 1$ a $w_T|_k = 0$, to:
    \[
    \#_1(b) \not\equiv \#_1(b') \mod n \quad \text{lub} \quad \#_0(c) \not\equiv \#_0(c') \mod n
    \]
    gdzie $b,c$ i $b',c'$ to odpowiadające dekompozycje dla $w_S z$ i $w_T z$.
\end{enumerate}

\subsubsection{Liczenie klas abstrakcji}
\begin{itemize}
    \item Istnieje $2^i$ różnych podzbiorów $S$
    \item Z lematu: każde $w_S$ należy do innej klasy $\sim_L$
    \item Zatem liczba klas abstrakcji $index(\sim_L) \geq 2^i = 2^{n/2}$
\end{itemize}

\subsubsection{Wniosek}
Z twierdzenia Myhilla-Nerode’a minimalny DFA dla $L$ ma co najmniej $2^{n/2}$ stanów. Ponieważ $2^{n/2} = \sqrt{2}^n$ jest funkcją wykładniczą względem $n$, nie istnieje wielomian $p(n)$ spełniający warunek z punktu (c).

\[
\boxed{\index(\sim_{K\#L}) \geq 2^{n/2} \implies \text{DFA wymaga } \Omega(2^{n/2}) \text{ stanów}}
\]



\end{document}ą