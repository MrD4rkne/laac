\documentclass{article}
\setlength{\headheight}{8pt}

\usepackage[a4paper, margin=0.3in]{geometry}
\usepackage{lmodern}
\usepackage[polish]{babel}
\usepackage[T1]{fontenc}
\usepackage{amsmath, amssymb, amsthm}
\usepackage{hyperref}
\usepackage[shortlabels]{enumitem}
\usepackage{physics}
\usepackage{multicol}
\usepackage{titlesec}
\usepackage{tikz}
\usetikzlibrary{automata, positioning}

% Definicje środowisk do twierdzeń, lematów, dowodów itp.
\newtheorem{theorem}{Twierdzenie}[section]
\newtheorem{lemma}[theorem]{Lemat}
\newtheorem{corollary}[theorem]{Wniosek}
\newtheorem{proposition}[theorem]{Stwierdzenie}
\theoremstyle{definition}
\newtheorem{definition}{Definicja}[section]
\theoremstyle{remark}
\newtheorem{remark}{Uwaga}[section]
\newtheorem*{example}{Przykład}
\newtheorem*{property}{Własność}

\title{Praca domowa 2}
\author{Marcin Szopa 459531}
\date{\today}

% Remove padding at the top of subsections
\titlespacing*{\subsection}{0pt}{*0}{*0}

% Redefine section numbering to use letters
\renewcommand{\thesection}{\Alph{section}}

% Define a command for singleton sets
\newcommand{\singleton}[1]{\left\{ #1 \right\}}

\begin{document}

\maketitle

\section{niepisząca maszyna Turinga z 1 taśmą roboczą}

Rozważmy niepisząca maszynę Turinga $M = \langle \Sigma, Q, I, F, \delta \rangle$ z 1 taśmą roboczą, gdzie:
\begin{itemize}
\item $\Sigma$ jest alfabetem wejściowym
\item $Q$ jest skończonym zbiorem stanów
\item $I \subseteq Q$ jest zbiorem stanów początkowych
\item $F \subseteq Q$ jest zbiorem stanów akceptujących
\item $\delta \subseteq Q \times \Sigma \times Q \times \{\circlearrowright, \rightarrow\} \times \{\leftarrow, \circlearrowright, \rightarrow\}$ jest relacją przejścia
\end{itemize}

Zauważmy, że zgodnie z definicją maszyny niepiszącej z jedną taśmą roboczą, ruchy głowicy taśmy roboczej nie wpływają na obliczenia, ponieważ maszyna nie może odczytać żadnej informacji z tej taśmy. Zatem taka maszyna jest równoważna automatowi skończonemu.

Skonstruujemy automat skończony $M_A = \langle \Sigma_A, Q_A, q_{A_0}, F_A, \delta_A \rangle$ taki, że $\mathcal{L}(M) = \mathcal{L}(M_A)$:

\begin{itemize}
\item $\Sigma_A = \Sigma$
\item $Q_A = Q \times \Sigma$ 
\item $q_{A_0} = \langle q_0, a \rangle$ dla $q_0 \in I$ i dowolnego $a \in \Sigma$ (stan początkowy zgadujemy)
\item $F_A = F \times \Sigma$
\item $\delta_A \subseteq Q_A \times (\Sigma \cup \{\epsilon\}) \times Q_A$ jest zdefiniowane następująco:
\begin{enumerate}
    \item Dla każdego przejścia $\langle q, a, q', \rightarrow, d \rangle \in \delta$ (gdzie $d \in \{\leftarrow, \circlearrowright, \rightarrow\}$) dodajemy do $\delta_A$ przejścia: 
    $\{\langle \langle q,a \rangle, a, \langle q',b \rangle \rangle : b \in \Sigma\}$
    
    \item Dla każdego przejścia $\langle q, a, q', \circlearrowright, d \rangle \in \delta$ (gdzie $d \in \{\leftarrow, \circlearrowright, \rightarrow\}$) dodajemy do $\delta_A$ przejście:
    $\langle \langle q,a \rangle, \epsilon, \langle q',a \rangle \rangle$
\end{enumerate}
\end{itemize}

\begin{remark}\label{remark:transition}
    Stan $\langle q,a \rangle$ automatu $M_A$ oznacza, że maszyna $M$ jest w stanie $q$ i pod głowicą znajduje się symbol $a$.
\end{remark}

\begin{theorem}
$\mathcal{L}(M) = \mathcal{L}(M_A)$
\end{theorem}

\begin{proof}
Udowodnimy równość tych języków przez podwójną inkluzję.

\medskip
\noindent\textbf{$\mathcal{L}(M) \subseteq \mathcal{L}(M_A)$:}

Niech $w \in \mathcal{L}(M)$. Istnieje więc akceptujący bieg $\rho$ maszyny $M$ na słowie $w = a_1a_2\ldots a_n$. 
Skonstruujemy akceptujący bieg $\rho_A$ automatu $M_A$ na słowie $w$.

Bieg $\rho$ można przedstawić jako sekwencję konfiguracji $(q_0, p_0, h_0) \vdash (q_1, p_1, h_1) \vdash \ldots \vdash (q_m, p_m, h_m)$, gdzie $q_0 \in I$, $q_m \in F$, $p_i$ oznacza pozycję głowicy na taśmie wejściowej a $h_i$ pozycję głowicy na taśmie roboczej.

Odpowiadający bieg $\rho_A$ automatu $M_A$ ma postać $\langle q_0, a_{p_0} \rangle \vdash \langle q_1, a_{p_1} \rangle \vdash \ldots \vdash \langle q_m, a_{p_m} \rangle$, gdzie każde przejście odpowiada przejściu w $\rho$ zgodnie z definicją $\delta_A$.

Ponieważ $q_m \in F$, stan $\langle q_m, a_{p_m} \rangle \in F_A$, więc bieg $\rho_A$ akceptuje słowo $w$, co oznacza $w \in \mathcal{L}(M_A)$.

\medskip
\noindent\textbf{$\mathcal{L}(M_A) \subseteq \mathcal{L}(M)$:}

Niech $w \in \mathcal{L}(M_A)$. Istnieje więc akceptujący bieg $\rho_A$ automatu $M_A$ na słowie $w = a_1a_2\ldots a_n$. 
Skonstruujemy akceptujący bieg $\rho$ maszyny $M$ na słowie $w$.

Bieg $\rho_A$ ma postać $\langle q_0, b_0 \rangle \vdash \langle q_1, b_1 \rangle \vdash \ldots \vdash \langle q_m, b_m \rangle$, gdzie $\langle q_0, b_0 \rangle$ jest stanem początkowym, a $\langle q_m, b_m \rangle \in F_A$.

Dla każdego przejścia w $\rho_A$:
\begin{itemize}
    \item Jeśli jest to przejście typu $\langle \langle q_i, a \rangle, a, \langle q_{i+1}, b \rangle \rangle$, to w biegu $\rho$ maszyny $M$ wykonujemy odpowiadające przejście $\langle q_i, a, q_{i+1}, \rightarrow, d \rangle$ dla pewnego $d \in \{\leftarrow, \circlearrowright, \rightarrow\}$.
    
    \item Jeśli jest to przejście typu $\langle \langle q_i, a \rangle, \epsilon, \langle q_{i+1}, a \rangle \rangle$, to w biegu $\rho$ maszyny $M$ wykonujemy odpowiadające przejście $\langle q_i, a, q_{i+1}, \circlearrowright, d \rangle$ dla pewnego $d \in \{\leftarrow, \circlearrowright, \rightarrow\}$.
\end{itemize}

Zauważmy, że stan końcowy $\langle q_m, b_m \rangle \in F_A$ oznacza, że $q_m \in F$. Zatem skonstruowany bieg $\rho$ kończy się w stanie akceptującym, co oznacza $w \in \mathcal{L}(M)$.
\end{proof}

Wykazaliśmy zatem, że niepisząca maszyna Turinga z jedną taśmą roboczą rozpoznaje dokładnie języki regularne, co potwierdza tezę o równoważności z automatem skończonym.

\section{niepisząca maszyna Turinga z 2 taśmami roboczymi}
Weźmy taką maszynę \(M\).

Zauważmy, że obecność 2 taśm roboczych pozwala nam na sprawdzenie, czy 
\( \#_{a}(\rightarrow) - \#_{a}(\leftarrow) = \#_{b}(\rightarrow) -  \#_{b}(\leftarrow) \) dla taśm \(a\) i \(b\).

\[ \#_{a}(\rightarrow) - \#_{a}(\leftarrow) = \#_{b}(\rightarrow) -  \#_{b}(\leftarrow) \iff  \#_{a}(\rightarrow) + \#_{b}(\leftarrow) = \#_{b}(\rightarrow) + \#_{a}(\leftarrow) \]

Czyli tak naprawdę możemy kodować informację o ruchach głowicy na taśmie \(a\) i taśmie \(b\) w jednym liczniku \(c\):
\begin{itemize}
\item \( \#_{a}(\rightarrow) + \#_{b}(\leftarrow) \) - liczba ruchów głowicy na taśmie \(a\) w prawo i liczba ruchów głowicy na taśmie \(b\) w lewo - \(c++\).
\item \( \#_{a}(\leftarrow) + \#_{b}(\rightarrow) \) - liczba ruchów głowicy na taśmie \(a\) w lewo i liczba ruchów głowicy na taśmie \(b\) w prawo - \(c--\).
\item jeśli głowice się nie ruszają, to \(c\) nie zmienia swojej wartości.
\item \(a == b \iff c == 0\).
\end{itemize}

Jednak naturalne dla języków bezkontekstowych jest to, że są rozpoznawane przez automaty ze stosem, a nie automaty z licznikiem.
Dlatego będziemy kodować wartość licznika \(c\) na stosie:
\begin{itemize}
\item \(c++\) - zdejmujemy ze stosu literę \(b\) (jeśli jest co zdejmować). Wpp dodajemy literę \(a\) na stos.
\item \(c--\) - zdejmujemy ze stosu literę \(a\) (jeśli jest co zdejmować). Wpp dodajemy literę \(b\) na stos.
\item jeśli licznik nie zmienia swojej wartości, to nie zmieniamy stosu (\(\text{pop}(\epsilon), \text{push}(\epsilon)\)).
\item \(c == 0 \iff \text{stos jest pusty}\).
\end{itemize}

Zdefiniujmy automat ze stosem \(M_S = \left<\Sigma_S, Q_S, q_{S_0}, F_S, s_0, \delta_S \right>\):
\begin{itemize}
\item \(\Sigma_S = \Sigma\)
\item \(Q_S = Q \times \Sigma \cup \{ \left< S, \epsilon, \epsilon \right> \} \)
\item \(q_{S_0} = \left< q_M, x, y \right>\), gdzie \(x\) i \(y\) są dowolnymi literami z alfabetu.
\item \(F_S = F \times \Sigma \times \Sigma\)
\item \(\delta_S\) jest zdefiniowane następująco:
\begin{itemize}
\item mapujemy \( \left<q, a, q', \rightarrow, \leftarrow / \circlearrowright / \rightarrow \right> \in \delta\) na \( \{ \left< \left<q,a,y\right>, a, \left<q',x,y\right> \right>: x,y \in \Sigma \} \),  
czyli gdy maszyna widzi pod głowicą literę \(a\), jest w stanie \(q\) i przechodzi do stanu \(q'\) to w \(M_S\) będzie to wyglądać tak, że maszyna widzi literę \(a\), jest w stanie \(\left<q,a,y\right>\) i przechodzi do stanu \(\left<q',x,y\right>\), gdzie \(x\) i \(y\) są dowolnymi literami z alfabetu (gdyż nie wiadomo co jest dalej). Jednak bieg akceptujący dalej z tego stanu będzie istniał wtw następną literą jest dane \(x\).

\item mapujemy \( \left<q, a, q', \circlearrowright, \leftarrow / \circlearrowright / \rightarrow \right> \in \delta\) na \( \{ \left< \left<q,a,y\right>, \epsilon, \left<q',a,y\right> \right>\} \), czyli gdy maszyna widzi pod głowicą literę \(a\), jest w stanie \(q\) i przechodzi do stanu \(q'\) bez zmiany głowicy to w \(M_S\) będzie to wyglądać tak, że maszyna widzi literę \(a\), jest w stanie \(\left<q,a,y\right>\) i przechodzi do stanu \(\left<q',a,y\right>\) nie wykorzystując litery.
\item mapujemy \( \left<q, a, q', \rightarrow, \leftarrow / \circlearrowright / \rightarrow \right> \in \delta\) na \( \{ \left< \left<q,a,y\right>, a, \left<q',x,y\right> \right>: x,y \in \Sigma \} \), czyli gdy maszyna widzi pod głowicą literę \(a\), jest w stanie \(q\) i przechodzi do stanu \(q'\) przesuwając głowicę w prawo to w \(M_S\) będzie to wyglądać tak, że maszyna widzi literę \(a\), jest w stanie \(\left<q,a,y\right>\) i przechodzi do stanu \(\left<q',x,y\right>\), gdzie \(x\) i \(y\) są dowolnymi literami z alfabetu (gdyż nie wiadomo co jest dalej). Jednak bieg akceptujący dalej z tego stanu będzie istniał wtw następną literą jest dane \(x\).
\item mapujemy \( \left<q, a, q', \circlearrowright, \leftarrow / \circlearrowright / \rightarrow \right> \in \delta\) na \( \{ \left< \left<q,a,y\right>, a, \left<q',x,y\right> \right>: x,y \in \Sigma \} \), czyli gdy maszyna widzi pod głowicą literę \(a\), jest w stanie \(q\) i przechodzi do stanu \(q'\) bez zmiany głowicy to w \(M_S\) będzie to wyglądać tak, że maszyna widzi literę \(a\), jest w stanie \(\left<q,a,y\right>\) i przechodzi do stanu \(\left<q',x,y\right>\), gdzie \(x\) i \(y\) są dowolnymi literami z alfabetu (gdyż nie wiadomo co jest dalej). Jednak bieg akceptujący dalej z tego stanu będzie istniał wtw następną literą jest dane \(x\).
\end{itemize}
\end{itemize}

TODO: co gdy masyzne terminuje przedwcześnie

\end{document}